# Модель цифровых компетенций

Статический веб-сервис для визуализации модели цифровых компетенций и развивающих действий.

## Структура проекта

```
.
├── data-src/              # Исходные файлы данных
│   ├── model.xlsx        # Модель компетенций (Excel)
│   └── menu.pptx         # Меню развивающих действий (PowerPoint)
├── scripts/               # Скрипты извлечения данных
│   ├── extract_excel.py  # Извлечение данных из Excel
│   ├── extract_pptx.py   # Извлечение данных из PowerPoint
│   ├── normalize_data.py # Нормализация и объединение данных
│   └── analyze_excel.py  # Анализ структуры Excel (вспомогательный)
├── frontend/              # Фронтенд приложение
│   ├── index.html        # Главная страница
│   ├── css/
│   │   └── styles.css    # Стили
│   ├── js/
│   │   ├── app.js        # Основная логика приложения
│   │   ├── router.js     # Маршрутизация
│   │   └── data.js       # Управление данными
│   └── data/
│       ├── data.json     # Объединенные данные (генерируется)
│       ├── model.json    # Данные модели (генерируется)
│       └── actions.json  # Данные действий (генерируется)
├── docker/
│   └── nginx.conf        # Конфигурация Nginx
├── Dockerfile            # Docker образ
├── docker-compose.yml    # Docker Compose конфигурация
└── requirements.txt     # Python зависимости

```

## Установка и запуск

### Предварительные требования

- Python 3.8+
- pip
- Docker и Docker Compose (для развертывания)

### Извлечение данных

1. Установите зависимости Python:
```bash
pip install -r requirements.txt
```

2. Убедитесь, что исходные файлы находятся в `data-src/`:
   - `data-src/model.xlsx`
   - `data-src/menu.pptx`

3. Запустите скрипты извлечения данных:
```bash
# Извлечение данных из Excel
python3 scripts/extract_excel.py

# Извлечение данных из PowerPoint
python3 scripts/extract_pptx.py

# Нормализация и объединение данных
python3 scripts/normalize_data.py
```

После выполнения скриптов в `frontend/data/` будут созданы JSON файлы:
- `model.json` - данные модели компетенций
- `actions.json` - развивающие действия
- `data.json` - объединенные данные для фронтенда

### Локальная разработка

Для локальной разработки можно использовать простой HTTP-сервер:

```bash
cd frontend
python3 -m http.server 8000
```

Затем откройте в браузере: `http://localhost:8000`

### Развертывание с Docker

1. Соберите Docker образ:
```bash
docker build -t competency-model .
```

2. Запустите контейнер:
```bash
docker run -d -p 8080:80 --name competency-model competency-model
```

Или используйте Docker Compose:
```bash
docker-compose up -d
```

Приложение будет доступно по адресу: `http://localhost:8080`

## Использование

1. **Выбор категории**: На главном экране выберите одну из 5 категорий персонала.
2. **Просмотр модели**: После выбора категории отображается модель компетенций:
   - Слева: список кластеров компетенций
   - Справа: компетенции с целевыми уровнями для выбранной категории
3. **Детали компетенции**: Кликните на компетенцию для просмотра:
   - Целевой уровень для категории
   - Описания уровней 1-5
   - Развивающие действия, сгруппированные по уровням и типу (70/20/10)

## Технические детали

### Маршрутизация

Приложение использует hash-based routing:
- `#/category` - выбор категории
- `#/model/{categoryId}` - модель компетенций для категории
- `#/competency/{competencyId}/{categoryId}` - детали компетенции

### Хранение данных

- Выбранная категория сохраняется в `localStorage`
- Все данные загружаются из JSON файлов (без бэкенда)

### Структура данных

Данные нормализованы с использованием канонических ключей компетенций для сопоставления между Excel и PowerPoint.

## Поддержка

При возникновении проблем с извлечением данных проверьте:
1. Структуру исходных файлов Excel и PowerPoint
2. Логи скриптов извлечения
3. Файл `frontend/data/unmatched_actions.json` для несопоставленных действий

## Лицензия

Внутренний корпоративный проект.
